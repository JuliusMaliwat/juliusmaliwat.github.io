---
// Card summary for project lists.
import { TECH_ICON_MAP } from "../consts";
const { project } = Astro.props;
---

<article class="card">
  {project.data.media?.[0] && (
    <a href={`/projects/${project.slug}/`} class="project-card-media">
      <img src={project.data.media[0].src} alt={project.data.media[0].alt} loading="lazy" />
    </a>
  )}
  <div class="eyebrow">{project.data.type}</div>
  <h3>
    <a href={`/projects/${project.slug}/`}>{project.data.title}</a>
  </h3>
  <p class="muted">{project.data.summary}</p>
  {project.data.tech?.length && (
    <div class="nav-links" style="margin-top: 12px;">
      {project.data.tech.map((tech) => (
        <span class="pill tech-pill">
          {TECH_ICON_MAP[tech] && (
            <img class="tech-pill-icon" src={TECH_ICON_MAP[tech]} alt={`${tech} icon`} loading="lazy" />
          )}
          <span>{tech}</span>
        </span>
      ))}
    </div>
  )}
</article>

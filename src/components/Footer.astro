---
// Footer with contact links and anchor target for one-page navigation.
const { email, links = [] } = Astro.props;

const normalizeLabel = (value = "") => value.toLowerCase();
const findLink = (label) =>
  links.find((link) => normalizeLabel(link.label) === normalizeLabel(label))?.url;

const mailto = email ? `mailto:${email}` : "mailto:juliusmaliwat.work@gmail.com";
const githubUrl = findLink("GitHub");
const linkedinUrl = findLink("LinkedIn");
const xUrl = findLink("X");
---

<footer id="contact" class="site-footer" aria-label="Contact links" data-reveal>
  <div class="site-footer-inner">
    <div class="site-footer-signature">
      <p class="site-footer-title">Get in touch</p>
      <p class="muted">Milan, Italy</p>
    </div>

    <div class="site-footer-links">
      <a class="button ghost small footer-cv" href="/cv.pdf" download>Download CV</a>
      <a class="footer-link" href={mailto}>Email</a>
      {githubUrl && (
        <a class="footer-link" href={githubUrl} target="_blank" rel="noreferrer">
          GitHub
        </a>
      )}
      {linkedinUrl && (
        <a class="footer-link" href={linkedinUrl} target="_blank" rel="noreferrer">
          LinkedIn
        </a>
      )}
      {xUrl && (
        <a class="footer-link" href={xUrl} target="_blank" rel="noreferrer">
          X
        </a>
      )}
    </div>
  </div>
</footer>
